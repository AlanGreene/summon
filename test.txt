$ HOME=$(mktemp --suffix=-test-home.summon -d)
$ cp summon.sh "$HOME"
$ echo "default bashrc" > "$HOME"/.bashrc
$ TEST_DATA_DIR=$(mktemp --suffix=-test-data.summon -d)
$ cd "$TEST_DATA_DIR"
$ mkdir -p bash emacs/.emacs.d
$ echo "emacs" > emacs/.emacs.d/init.el
$ echo "modified bashrc" > bash/.bashrc
$ > A-FILE-TO-BE-IGNORED
$ "$HOME"/summon.sh "$TEST_DATA_DIR"/bash
$ "$HOME"/summon.sh -s "$TEST_DATA_DIR"/*
$ stat -c %h -- "$HOME"/.bashrc
2
$ cat "$HOME"/.bashrc
modified bashrc
$ test -L "$HOME"/.emacs.d/init.el && cat "$HOME"/.emacs.d/init.el
emacs
$ test -L "$HOME"/A-FILE-TO-BE-IGNORED && echo "Oops!"
$ test -e "$HOME"/.bashrc.~1~ || echo "Oops!"
